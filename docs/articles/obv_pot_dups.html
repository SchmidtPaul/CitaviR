<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obvious &amp; potential duplicates • CitaviR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Obvious &amp; potential duplicates">
<meta property="og:description" content="Learn about finding and handling obvious &amp; potential duplicates.
">
<meta property="og:image" content="https://schmidtpaul.github.io/CitaviR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CitaviR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CitaviR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/obv_pot_dups.html">Obvious &amp; potential dups</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SchmidtPaul/CitaviR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="obv_pot_dups_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Obvious &amp; potential duplicates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SchmidtPaul/CitaviR/blob/master/vignettes/obv_pot_dups.Rmd"><code>vignettes/obv_pot_dups.Rmd</code></a></small>
      <div class="hidden name"><code>obv_pot_dups.Rmd</code></div>

    </div>

    
    
<div id="duplicates-in-citavi" class="section level1">
<h1 class="hasAnchor">
<a href="#duplicates-in-citavi" class="anchor"></a>Duplicates in Citavi</h1>
<p>Chances are that whenever multiple references are gathered, some of them are duplicates. Citavi knows “it is almost inevitable that a reference may appear two or more times in your Citavi project” and <a href="https://www1.citavi.com/sub/manual6/en/index.html?eliminating_duplicates.html">suggests to eliminate duplicates</a> since they “waste time and space and distract you from your work”. More specifically, Citavi has a <code>Show duplicates only</code> button you may use to “compare the references and delete the duplicates you don’t need”.</p>
<p>This approach is fine. However, especially when working with large Citavi projects (&gt;1,000 references) <em>e.g.</em> when conducting a systematic review, the number of duplicates may become so large that a few issues arise:</p>
<ol style="list-style-type: decimal">
<li>Still a lot of manual work
<ul>
<li>Showing the duplicates (in Table View) means that the user needs to screen and manually click every duplicate to deal with it.</li>
</ul>
</li>
<li>Choosing instead of combining
<ul>
<li>Instead of choosing the <em>better</em> duplicate it may sometimes be advantageous to combine/gather the information of all duplicates into the one <em>non-duplicate</em>. This can be done manually, but would lead to even more manual work.</li>
</ul>
</li>
<li>Citavi’s way of identifying duplicates can be too sensitive
<ul>
<li>Spoiler: The duplicate identification methods of Citavi and CitaviR are actually quite similar (see below). Nevertheless, CitaviR tries a slightly different approach and leaves some decisions to the user.</li>
</ul>
</li>
</ol>
<blockquote>
<p>One may point out that in their Citavi projects the number of duplicates was never really large, since they checked the <code>[ ] Don't add project duplicates</code> box during the import process. While this is indeed true for many, some groups like to keep all references including duplicates in their project at all times and simply move them to <em>e.g.</em> a duplicate category or group. This can be beneficial <em>e.g.</em> in a systematic review because one can always verify and compare to the total number of found references.</p>
</blockquote>
</div>
<div id="duplicates-in-citavir" class="section level1">
<h1 class="hasAnchor">
<a href="#duplicates-in-citavir" class="anchor"></a>Duplicates in CitaviR</h1>
<p>CitaviR distinguishes between two types of duplicates:</p>
<ul>
<li>
<strong>Obvious duplicates</strong> are undoubtedly duplicates and handled automatically without any further user interaction.</li>
<li>
<strong>Potential duplicates</strong> are likely duplicates but the ultimate decision should be left to the user.</li>
</ul>
<p>Shortly put, the suggested way of dealing with duplicates in CitaviR is therefore:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/find_obvious_dups.html">find_obvious_dups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>   <span class="co"># 1. identify obvious   duplicates</span>
  <span class="fu"><a href="../reference/handle_obvious_dups.html">handle_obvious_dups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># 2. handle   obvious   duplicates</span>
  <span class="fu"><a href="../reference/find_potential_dups.html">find_potential_dups</a></span><span class="op">(</span><span class="op">)</span>     <span class="co"># 3. identify potential duplicates</span></code></pre></div>
<p>In this vignette we revisit <a href="CitaviR.html#step-3-process-data-in-r">Step 3 of the example in the Get started vigniette</a> and go into more detail.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SchmidtPaul/CitaviR">CitaviR</a></span><span class="op">)</span>

<span class="va">my_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/example_xlsx.html">example_xlsx</a></span><span class="op">(</span><span class="st">"3dupsin5refs.xlsx"</span><span class="op">)</span> <span class="co"># in real life: replace with path to your xlsx file</span>
<span class="va">CitDat</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_Citavi_xlsx.html">read_Citavi_xlsx</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_path</span><span class="op">)</span></code></pre></div>
<div id="find-obvious-duplicates" class="section level2">
<h2 class="hasAnchor">
<a href="#find-obvious-duplicates" class="anchor"></a>1. Find obvious duplicates</h2>
<div id="tldr" class="section level3">
<h3 class="hasAnchor">
<a href="#tldr" class="anchor"></a>Tl;dr</h3>
<p>CitaviR identifies obvious duplicates by first creating a <code>clean_title</code> for each reference (<em>i.e</em> a simplified string consisting of Title and Year) and then comparing those between all references. Obvious duplicates have identical <code>clean_title</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">&lt;-</span> <span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/find_obvious_dups.html">find_obvious_dups</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="details" class="section level3">
<h3 class="hasAnchor">
<a href="#details" class="anchor"></a>Details</h3>
<p>CitaviR identifies obvious duplicates by first creating a <code>clean_title</code> which is basically <code>Title</code> and <code>Year</code> pasted together and processed by <code><a href="https://rdrr.io/pkg/janitor/man/make_clean_names.html">janitor::make_clean_names()</a></code>. The latter <em>e.g.</em> converts the pasted string to all-lowercase and removes special characters and unnecessary spaces.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">Title</span>, <span class="va">clean_title</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   Title                                 clean_title                             </span>
<span class="co">#&gt;   &lt;chr&gt;                                 &lt;chr&gt;                                   </span>
<span class="co">#&gt; 1 Estimating broad-sense heritability ~ estimating_broad_sense_heritability_wit~</span>
<span class="co">#&gt; 2 Heritability in plant breeding on a ~ heritability_in_plant_breeding_on_a_gen~</span>
<span class="co">#&gt; 3 Heritability in Plant Breeding on a ~ heritability_in_plant_breeding_on_a_gen~</span>
<span class="co">#&gt; 4 Hritability in Plant Breeding on a G~ hritability_in_plant_breeding_on_a_geno~</span>
<span class="co">#&gt; 5 More, Larger, Simpler: How Comparabl~ more_larger_simpler_how_comparable_are_~</span></code></pre></div>
<p>All references that have identical <code>clean_title</code> are taken as obvious duplicates. Three additional columns are created that allow for better handling in upcoming steps.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">clean_title</span><span class="op">:</span><span class="va">obv_dup_id</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   clean_title                              clean_title_id has_obv_dup obv_dup_id</span>
<span class="co">#&gt;   &lt;chr&gt;                                    &lt;chr&gt;          &lt;lgl&gt;       &lt;chr&gt;     </span>
<span class="co">#&gt; 1 estimating_broad_sense_heritability_wit~ ct_01          FALSE       dup_01    </span>
<span class="co">#&gt; 2 heritability_in_plant_breeding_on_a_gen~ ct_02          TRUE        dup_01    </span>
<span class="co">#&gt; 3 heritability_in_plant_breeding_on_a_gen~ ct_02          TRUE        dup_02    </span>
<span class="co">#&gt; 4 hritability_in_plant_breeding_on_a_geno~ ct_03          FALSE       dup_01    </span>
<span class="co">#&gt; 5 more_larger_simpler_how_comparable_are_~ ct_04          FALSE       dup_01</span></code></pre></div>
<p>If multiple references were found to have identical <code>clean_title</code>, their <code>has_obv_dup</code> is set to <code>TRUE</code>. Obvious duplicates share the same <code>clean_title_id</code> but have unique <code>obv_dup_id</code>. The “first” duplicate (<em>i.e.</em> <code>obv_dup_id == dup_01</code>) can be seen as the <em>non-duplicate</em> and thus the only version of a reference that will be investigated further after duplicate-handling.</p>
<p>Note that a pair of obvious duplicates was identified (<code>clean_title_id == ct_02</code>). However, due to a single typo <code>ct_03</code> was not (yet) identified as a duplicate.</p>
<p>Further note that by default <code>preferDupsWithPDF</code> is set to <code>TRUE</code>. While the handling of varying information between duplicates is mostly done in the next step via <code><a href="../reference/handle_obvious_dups.html">handle_obvious_dups()</a></code>, this is the only exception. When <code>TRUE</code>, the exported fields <code>has_attachment</code> and <code>Locations</code> are used to sort the references. They are sorted in a way that in case of obvious duplicates being identified, <code>dup_01</code> is always the one reference that has the most PDF attachments in the Citavi project. Thus, <em>PDF-attachment</em> is the only attribute where CitaviR chooses the “better” duplicate while all other attributes are merged (not chosen) in the next step.</p>
</div>
</div>
<div id="handle-obvious-duplicates" class="section level2">
<h2 class="hasAnchor">
<a href="#handle-obvious-duplicates" class="anchor"></a>2. Handle obvious duplicates</h2>
<div id="tldr-1" class="section level3">
<h3 class="hasAnchor">
<a href="#tldr-1" class="anchor"></a>Tl;dr</h3>
<p>CitaviR merges varying information between obvious duplicates so that the loss of information is reduced when ultimately getting rid of all except <code>dup_01</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/find_obvious_dups.html">find_obvious_dups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/handle_obvious_dups.html">handle_obvious_dups</a></span><span class="op">(</span>fieldsToHandle <span class="op">=</span> <span class="va">...</span><span class="op">)</span> <span class="co"># must be added</span></code></pre></div>
</div>
<div id="details-1" class="section level3">
<h3 class="hasAnchor">
<a href="#details-1" class="anchor"></a>Details</h3>
<p>Sometimes duplicates hold different information as it is the case here for <code>ct_02</code> and the columns <code>PubMed ID</code>, <code>DOI name</code> and <code>Categories</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">clean_title_id</span> <span class="op">==</span> <span class="st">"ct_02"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">clean_title_id</span>, <span class="va">obv_dup_id</span>, <span class="va">`DOI name`</span>, <span class="va">`PubMed ID`</span>, <span class="va">Categories</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 5</span>
<span class="co">#&gt;   clean_title_id obv_dup_id `DOI name`                  `PubMed ID` Categories</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;      &lt;chr&gt;                       &lt;chr&gt;       &lt;chr&gt;     </span>
<span class="co">#&gt; 1 ct_02          dup_01     10.1534/genetics.119.302134 &lt;NA&gt;        1 catA    </span>
<span class="co">#&gt; 2 ct_02          dup_02     &lt;NA&gt;                        31248886    2 catB</span></code></pre></div>
<p>In such a scenario it would be best to gather all information into <code>dup_01</code>. Depending on the type of information, CitaviR does this in two different way:</p>
<ul>
<li>For simple fields (containing text/strings) such as <code>DOI name</code>, <code>PubMed ID</code>, <code>Abstract</code> etc., CitaviR currently simply <em>fills up</em> (<code><a href="https://tidyr.tidyverse.org/reference/fill.html">tidyr::fill(all_of(fieldsToHandle), .direction = "up")</a></code>) entries.</li>
<li>For the knowledge items <code>Categories</code>, <code>Groups</code> and <code>Keywords</code>, CitaviR collapses unique entries into the respective entry for <code>dup_01</code>, while entries for all other obvious duplicates are replaced by a provided string:</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">&lt;-</span> <span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/handle_obvious_dups.html">handle_obvious_dups</a></span><span class="op">(</span>fieldsToHandle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"DOI name"</span>, <span class="st">"PubMed ID"</span><span class="op">)</span>, 
                      nameDupCategories <span class="op">=</span> <span class="st">"3 duplicate"</span><span class="op">)</span> 

<span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">clean_title_id</span> <span class="op">==</span> <span class="st">"ct_02"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">clean_title_id</span>, <span class="va">obv_dup_id</span>, <span class="va">`DOI name`</span>, <span class="va">`PubMed ID`</span>, <span class="va">Categories</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 5</span>
<span class="co">#&gt;   clean_title_id obv_dup_id `DOI name`                 `PubMed ID` Categories   </span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;      &lt;chr&gt;                      &lt;chr&gt;       &lt;chr&gt;        </span>
<span class="co">#&gt; 1 ct_02          dup_01     10.1534/genetics.119.3021~ 31248886    1 catA; 2 ca~</span>
<span class="co">#&gt; 2 ct_02          dup_02     &lt;NA&gt;                       31248886    3 duplicate</span></code></pre></div>
<p>Note that there is one exception: If <code>Online address</code> is included in the <code>fieldsToHandle</code>, it is not just <em>filled up</em> like the others. Instead, per <code>clean_title_id</code> all URLs from <code>Online address</code> and <code>Location</code> are combined and ranked. As an example: <a href="https://github.com/SchmidtPaul/CitaviR/blob/ea4329067f9c602573b3bd2229658faca478ca09/R/handle_obvious_dups.R#L85">CitaviR currently ranks</a> URLs including “doi.org” as the best possible entry for <code>Online address</code>. Finally, the URL with the highest rank is set as the <code>Online address</code> for <code>dup_01</code>.</p>
<blockquote>
<p>While having nothing to do with CitaviR, there is a <a href="https://github.com/istvank/Citavi-Macros/blob/master/merge-duplicates.cs">custom Citavi macro</a> created by <a href="https://github.com/istvank">István</a> that has a comparable approach to merging varying duplicate information (from duplicates identified in Citavi).</p>
</blockquote>
</div>
</div>
<div id="find-potential-duplicates" class="section level2">
<h2 class="hasAnchor">
<a href="#find-potential-duplicates" class="anchor"></a>3. Find potential duplicates</h2>
<div id="tldr-2" class="section level3">
<h3 class="hasAnchor">
<a href="#tldr-2" class="anchor"></a>Tl;dr</h3>
<p>After obvious duplicates have been dealt with, potential duplicates can be identified among the remaining references as those that don’t have identical, but similar <code>clean_title</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/find_obvious_dups.html">find_obvious_dups</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/handle_obvious_dups.html">handle_obvious_dups</a></span><span class="op">(</span>fieldsToHandle <span class="op">=</span> <span class="va">...</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># must be added</span>
  <span class="fu"><a href="../reference/find_potential_dups.html">find_potential_dups</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="details-2" class="section level3">
<h3 class="hasAnchor">
<a href="#details-2" class="anchor"></a>Details</h3>
<p>For all remaining references (<em>i.e.</em> all <code>dup_01</code>) CitaviR identifies potential duplicates as those references that have <code>clean_title</code> that are similar. Similarity is calculated as the <a href="https://www.wikiwand.com/en/Levenshtein_distance">Levenshtein distance</a> and by default a similarity &gt; 60% is considered relevant.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">CitDat</span> <span class="op">&lt;-</span> <span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/find_potential_dups.html">find_potential_dups</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; clean_title comparisons = 6 &lt; 1,000,000 = maxNumberOfComp </span>
<span class="co">#&gt;    calculating similarity now... </span>
<span class="co">#&gt;    calculating similarity done: 0 sec elapsed</span>

<span class="va">CitDat</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">clean_title_id</span>, <span class="va">obv_dup_id</span>, <span class="va">pot_dup_id</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 3</span>
<span class="co">#&gt;   clean_title_id obv_dup_id pot_dup_id                  </span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;      &lt;chr&gt;                       </span>
<span class="co">#&gt; 1 ct_01          dup_01     &lt;NA&gt;                        </span>
<span class="co">#&gt; 2 ct_02          dup_01     potdup_01 (98.6% similarity)</span>
<span class="co">#&gt; 3 ct_02          dup_02     &lt;NA&gt;                        </span>
<span class="co">#&gt; 4 ct_03          dup_01     potdup_01 (98.6% similarity)</span>
<span class="co">#&gt; 5 ct_04          dup_01     &lt;NA&gt;</span>

<span class="va">CitDat</span> <span class="op">%&gt;%</span> <span class="fu">slice</span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">clean_title</span><span class="op">)</span> <span class="co"># compare clean_title yourself:</span>
<span class="co">#&gt; # A tibble: 2 x 1</span>
<span class="co">#&gt;   clean_title                                                           </span>
<span class="co">#&gt;   &lt;chr&gt;                                                                 </span>
<span class="co">#&gt; 1 heritability_in_plant_breeding_on_a_genotype_difference_basis_2019_end</span>
<span class="co">#&gt; 2 hritability_in_plant_breeding_on_a_genotype_difference_basis_2019_end</span></code></pre></div>
<p>Note that while the typo in the Title prevented <code>ct_03</code> being identified as an obvious duplicate of <code>ct_02</code>, it is now identified as a potential duplicate.</p>
<p>TO DO: MENTION COMPUTATIONAL BURDEN WITH LARGE NUMBER OF REFERENCES</p>
<p>TO DO: HINT AT HOW TO DEAL WITH IT MACRO AND CITAVI</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/SchmidtPaul">Paul Schmidt</a>, <a href="https://www.biomath.de/"><img src="https://raw.githubusercontent.com/SchmidtPaul/CitaviR/master/man/figures/BioMathLogo.svg" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
